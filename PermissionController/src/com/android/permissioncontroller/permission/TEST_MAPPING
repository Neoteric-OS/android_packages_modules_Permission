{
    "presubmit": [
        {
            "name": "CtsPermissionTestCases",
            "options": [
                {
                    "include-filter": "android.permission.cts.BackgroundPermissionsTest"
                },
                {
                    "include-filter": "android.permission.cts.LocationAccessCheckTest"
                },
                {
                    "include-filter": "android.permission.cts.NotificationListenerCheckTest"
                },
                {
                    "include-filter": "android.permission.cts.OneTimePermissionTest"
                },
                {
                    "include-filter": "android.permission.cts.PermissionControllerTest"
                },
                {
                    "include-filter": "android.permission.cts.PlatformPermissionGroupMappingTest"
                },
                {
                    "exclude-annotation": "android.platform.test.annotations.FlakyTest"
                }
            ]
        },
        {
            "name": "CtsHibernationTestCases",
            "options": [
                // TODO(b/280519694): This test is flaky GSI builds
                {
                    "exclude-filter": "android.hibernation.cts.AutoRevokeTest#testPermissionEventCleanupService_scrubsEvents"
                },
                {
                    "exclude-annotation": "android.platform.test.annotations.FlakyTest"
                }
            ]
        }
    ],
    "mainline-presubmit": [
        {
            "name": "CtsPermissionTestCases[com.google.android.permission.apex]",
            "options": [
                {
                    "include-filter": "android.permission.cts.BackgroundPermissionsTest"
                },
                {
                    "include-filter": "android.permission.cts.LocationAccessCheckTest"
                },
                {
                    "include-filter": "android.permission.cts.NotificationListenerCheckTest"
                },
                {
                    "include-filter": "android.permission.cts.OneTimePermissionTest"
                },
                {
                    "include-filter": "android.permission.cts.PermissionControllerTest"
                },
                {
                    "include-filter": "android.permission.cts.PlatformPermissionGroupMappingTest"
                },
                {
                    "exclude-annotation": "android.platform.test.annotations.FlakyTest"
                }
            ]
        },
        {
            "name": "CtsHibernationTestCases[com.google.android.permission.apex]",
            "options": [
                // TODO(b/238677038): This test currently fails on R base image
                {
                    "exclude-filter": "android.hibernation.cts.AutoRevokeTest#testUnusedApp_uninstallApp"
                },
                // TODO(b/280519694): This test is very flaky on T+ builds
                {
                    "exclude-filter": "android.hibernation.cts.AutoRevokeTest#testPermissionEventCleanupService_scrubsEvents"
                },
                {
                    "exclude-annotation": "android.platform.test.annotations.FlakyTest"
                }
            ]
        }
    ],
    "postsubmit": [
        {
            "name": "CtsHibernationTestCases"
        },
        {
            "name": "CtsPermissionTestCases",
            "options": [
                {
                    "include-filter": "android.permission.cts.BackgroundPermissionsTest"
                },
                {
                    "include-filter": "android.permission.cts.LocationAccessCheckTest"
                },
                {
                    "include-filter": "android.permission.cts.NotificationListenerCheckTest"
                },
                {
                    "include-filter": "android.permission.cts.OneTimePermissionTest"
                },
                {
                    "include-filter": "android.permission.cts.PermissionControllerTest"
                },
                {
                    "include-filter": "android.permission.cts.PlatformPermissionGroupMappingTest"
                }
            ]
        },
        {
            "name": "CtsPermissionTestCases[com.google.android.permission.apex]",
            "options": [
                {
                    "include-filter": "android.permission.cts.BackgroundPermissionsTest"
                },
                {
                    "include-filter": "android.permission.cts.LocationAccessCheckTest"
                },
                {
                    "include-filter": "android.permission.cts.NotificationListenerCheckTest"
                },
                {
                    "include-filter": "android.permission.cts.OneTimePermissionTest"
                },
                {
                    "include-filter": "android.permission.cts.PermissionControllerTest"
                },
                {
                    "include-filter": "android.permission.cts.PlatformPermissionGroupMappingTest"
                }
            ]
        },
        {
            "name": "CtsHibernationTestCases[com.google.android.permission.apex]",
            "options": [
                // TODO(b/238677038): This test currently fails on R base image
                {
                    "exclude-filter": "android.hibernation.cts.AutoRevokeTest#testUnusedApp_uninstallApp"
                }
            ]
        }
    ]
}
